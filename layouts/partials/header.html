<header class="site-header">
    <div class="container">
        <div class="header-content">
            <!-- Logo/Site Title -->
            <div class="site-branding">
                <a href="/" class="site-logo">
                    <h1>Vibelyo</h1>
                </a>
                <p class="site-tagline">Learn. Earn. Grow.</p>
            </div>

            <!-- Mobile Menu Toggle -->
            <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" onclick="toggleMobileMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>

            <!-- Navigation Menu -->
            <nav class="main-navigation" id="main-nav">
                <ul class="nav-menu">
                    {{ range .Site.Menus.main }}
                    <li class="nav-item">
                        <a href="{{ .URL }}" class="nav-link{{ if $.IsMenuCurrent " main" . }} active{{ end }}">
                            {{ .Name }}
                        </a>
                    </li>
                    {{ end }}
                </ul>
            </nav>
        </div>
    </div>
</header>

<!-- Mobile Menu Toggle Script -->
<script>
    function toggleMobileMenu() {
        const nav = document.getElementById('main-nav');
        nav.classList.toggle('active');
    }

    // Close mobile menu when clicking outside
    document.addEventListener('click', function (event) {
        const nav = document.getElementById('main-nav');
        const toggle = document.querySelector('.mobile-menu-toggle');

        if (!nav.contains(event.target) && !toggle.contains(event.target)) {
            nav.classList.remove('active');
        }
    });
    // Featured Carousel Scroll
    function scrollFeatured(direction) {
        const carousel = document.getElementById('featuredCarousel');
        const scrollAmount = 350;

        if (direction === 'left') {
            carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
        } else {
            carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        }
    }

    // Tools Carousel Scroll
    function scrollTools(direction) {
        const carousel = document.getElementById('toolsCarousel');
        const scrollAmount = 200;

        if (direction === 'left') {
            carousel.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
        } else {
            carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
        }
    }

    // Scroll Animation Observer
    document.addEventListener('DOMContentLoaded', () => {
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    observer.unobserve(entry.target); // Only animate once
                }
            });
        }, observerOptions);

        document.querySelectorAll('.animate-on-scroll').forEach(section => {
            observer.observe(section);
        });
    });
</script>